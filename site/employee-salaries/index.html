<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Employee Salaries & Overtime</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Arimo:400,700,400italic">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.2/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/backbone.modal/1.1.5/backbone.modal-min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/backbone.modal/1.1.5/backbone.modal.theme-min.css">
    <link rel="stylesheet" href="https://cityofphiladelphia.github.io/vizwit/styles/main.css">
  </head>
  <body>
    <!-- Google Tag Manager [phila.gov] -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC6CR2"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MC6CR2');</script>
    <!-- End Google Tag Manager --> 
    
    <div class="header-container">
      <div class="container" id="page-header">
        <div class="row">
          <div class="col-sm-10">
            <h1 class="title">Employee Salaries & Overtime</h1>
            <p class="description"><p>As of March 31, 2017</p>

<p>Note: Since employee counts fluctuate throughout the year, the sum of annual
  salaries does not reflect the total budgeted amount.</p>
</p>
          </div>
          <div class="col-sm-2">
            <div class="btn-group pull-right navigation" role="group">
              <a href="https://www.opendataphilly.org/dataset/employee-salaries-overtime" class="btn btn-default">Download</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <script type="application/json" class="vizwit">
[
  [
    {
      "title": "Total Salaries by Department",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "employee_salaries",
      "chartType": "bar",
      "groupBy": "department",
      "triggerField": "department",
      "aggregateFunction": "sum",
      "aggregateField": "annual_salary",
      "baseFilters": [
        {
          "field": "calendar_year",
          "expression": {
            "type": "=",
            "value": "2017"
          }
        },
        {
          "field": "quarter",
          "expression": {
            "type": "=",
            "value": "1"
          }
        }
      ]
    }
  ],
  [
    {
      "title": "Total YTD Overtimes Gross by Department",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "employee_salaries",
      "chartType": "bar",
      "groupBy": "department",
      "triggerField": "department",
      "aggregateFunction": "sum",
      "aggregateField": "round(CAST(ytd_overtime_gross as numeric), 2)",
      "baseFilters": [
        {
          "field": "calendar_year",
          "expression": {
            "type": "=",
            "value": "2017"
          }
        },
        {
          "field": "quarter",
          "expression": {
            "type": "=",
            "value": "1"
          }
        }
      ]
    }
  ],
  [
    {
      "title": "Employee Salaries",
      "chartType": "table",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "employee_salaries",
      "order": "annual_salary desc",
      "columnsToHide": [
        "cartodb_id",
        "objectid",
        "the_geom",
        "the_geom_webmercator",
        "oid_",
        "calendar_year",
        "quarter"
      ],
      "baseFilters": [
        {
          "field": "calendar_year",
          "expression": {
            "type": "=",
            "value": "2017"
          }
        },
        {
          "field": "quarter",
          "expression": {
            "type": "=",
            "value": "1"
          }
        }
      ]
    }
  ]
]

      </script>
    </div>

    <script src="https://cityofphiladelphia.github.io/vizwit/scripts/vizwit-onpage.js"></script>
  </body>
</html>
