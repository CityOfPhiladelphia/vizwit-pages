<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>L&I Building Permits</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Arimo:400,700,400italic">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.2/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/backbone.modal/1.1.5/backbone.modal-min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/backbone.modal/1.1.5/backbone.modal.theme-min.css">
    <link rel="stylesheet" href="https://cityofphiladelphia.github.io/vizwit/styles/main.css">
  </head>
  <body>
    <!-- Google Tag Manager [phila.gov] -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC6CR2"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MC6CR2');</script>
    <!-- End Google Tag Manager --> 
    
    <div class="header-container">
      <div class="container" id="page-header">
        <div class="row">
          <div class="col-sm-10">
            <h1 class="title">L&I Building Permits</h1>
            <p class="description"><p>The Department of Licenses & Inspections reviews construction plans and
conducts building inspections to ensure the safety of the workers and the
public. Building permits are required before beginning projects to enlarge,
repair, change, add to or demolish a structure, and to install equipment or
systems in a structure. Plumbing and electrical permits, among others, may
also be required for new or existing buildings.</p>
<p>For more information, please visit: http://www.phila.gov/li/Pages/PermitsCertificates.aspx</p>
</p>
          </div>
          <div class="col-sm-2">
            <div class="btn-group pull-right navigation" role="group">
              <a href="https://www.opendataphilly.org/dataset/licenses-and-inspections-building-permits" class="btn btn-default">Download</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <script type="application/json" class="vizwit">
[
  [
    {
      "title": "Permit Issue Date",
      "description": "The date and time that the permit was issued.",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "datetime",
      "groupBy": "date_trunc('month', permitissuedate)",
      "triggerField": "permitissuedate"
    }
  ],
  [
    {
      "title":  "Census Tract",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "choropleth",
      "groupBy": "censustract",
      "boundaries": "https://phl.carto.com/api/v2/sql?q=select+*+from+census_tracts_2010&format=geojson",
      "boundariesLabel": "namelsad10",
      "boundariesId": "name10_padded"
    },
    {
      "title": "Permit Description",
      "description": "The description of the type of permit issued.",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "bar",
      "groupBy": "permitdescription"
    }
  ],
  [
    {
      "title": "Type of Work",
      "description": "L&I descriptor of the type of work permitted.",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "bar",
      "groupBy": "permitdescription"
    }
  ],
  [
     {
      "title": "Status",
      "description": "Status of the permit.",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "pie",
      "groupBy": "status"
    },
    {
      "title": "Owner Name",
      "description": "Current owner of the property",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "chartType": "bar",
      "groupBy": "ownername"
    }
  ],
  [
    {
      "title": "Building Permits",
      "chartType": "table",
      "provider": "carto",
      "domain": "phl.carto.com",
      "dataset": "li_permits",
      "columnsToHide": [
        "cartodb_id",
        "objectid",
        "the_geom",
        "the_geom_webmercator"
      ]
    }
  ]
]
      </script>
    </div>

    <script src="https://cityofphiladelphia.github.io/vizwit/scripts/vizwit-onpage.js"></script>
  </body>
</html>
